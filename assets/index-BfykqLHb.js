(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const gt=!1,yt=(e,t)=>e===t,G=Symbol("solid-proxy"),Ee=Symbol("solid-track"),$e={equals:yt};let Je=nt;const U=1,Re=2,Ye={owned:null,cleanups:null,context:null,owner:null};var A=null;let Ne=null,mt=null,S=null,C=null,I=null,ke=0;function F(e,t){const n=S,s=A,i=e.length===0,l=t===void 0?s:t,a=i?Ye:{owned:null,cleanups:null,context:l?l.context:null,owner:l},r=i?e:()=>e(()=>K(()=>ce(a)));A=a,S=null;try{return ee(r,!0)}finally{S=n,A=s}}function le(e,t){t=t?Object.assign({},$e,t):$e;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),tt(n,i));return[et.bind(n),s]}function x(e,t,n){const s=He(e,t,!1,U);de(s)}function bt(e,t,n){Je=Et;const s=He(e,t,!1,U);s.user=!0,I?I.push(s):de(s)}function ae(e,t,n){n=n?Object.assign({},$e,n):$e;const s=He(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,de(s),et.bind(s)}function pt(e){return ee(e,!1)}function K(e){if(S===null)return e();const t=S;S=null;try{return e()}finally{S=t}}function Qe(e){return A===null||(A.cleanups===null?A.cleanups=[e]:A.cleanups.push(e)),e}function Pe(){return S}function et(){if(this.sources&&this.state)if(this.state===U)de(this);else{const e=C;C=null,ee(()=>Se(this),!1),C=e}if(S){const e=this.observers?this.observers.length:0;S.sources?(S.sources.push(this),S.sourceSlots.push(e)):(S.sources=[this],S.sourceSlots=[e]),this.observers?(this.observers.push(S),this.observerSlots.push(S.sources.length-1)):(this.observers=[S],this.observerSlots=[S.sources.length-1])}return this.value}function tt(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let i=0;i<e.observers.length;i+=1){const l=e.observers[i],a=Ne&&Ne.running;a&&Ne.disposed.has(l),(a?!l.tState:!l.state)&&(l.pure?C.push(l):I.push(l),l.observers&&st(l)),a||(l.state=U)}if(C.length>1e6)throw C=[],new Error},!1)),t}function de(e){if(!e.fn)return;ce(e);const t=ke;Ot(e,e.value,t)}function Ot(e,t,n){let s;const i=A,l=S;S=A=e;try{s=e.fn(t)}catch(a){return e.pure&&(e.state=U,e.owned&&e.owned.forEach(ce),e.owned=null),e.updatedAt=n+1,it(a)}finally{S=l,A=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?tt(e,s):e.value=s,e.updatedAt=n)}function He(e,t,n,s=U,i){const l={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:A,context:A?A.context:null,pure:n};return A===null||A!==Ye&&(A.owned?A.owned.push(l):A.owned=[l]),l}function Ze(e){if(e.state===0)return;if(e.state===Re)return Se(e);if(e.suspense&&K(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ke);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===U)de(e);else if(e.state===Re){const s=C;C=null,ee(()=>Se(e,t[0]),!1),C=s}}function ee(e,t){if(C)return e();let n=!1;t||(C=[]),I?n=!0:I=[],ke++;try{const s=e();return wt(n),s}catch(s){n||(I=null),C=null,it(s)}}function wt(e){if(C&&(nt(C),C=null),e)return;const t=I;I=null,t.length&&ee(()=>Je(t),!1)}function nt(e){for(let t=0;t<e.length;t++)Ze(e[t])}function Et(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:Ze(s)}for(t=0;t<n;t++)Ze(e[t])}function Se(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const s=e.sources[n];if(s.sources){const i=s.state;i===U?s!==t&&(!s.updatedAt||s.updatedAt<ke)&&Ze(s):i===Re&&Se(s,t)}}}function st(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Re,n.pure?C.push(n):I.push(n),n.observers&&st(n))}}function ce(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const l=i.pop(),a=n.observerSlots.pop();s<i.length&&(l.sourceSlots[a]=s,i[s]=l,n.observerSlots[s]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ce(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ce(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function $t(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function it(e,t=A){throw $t(e)}const Be=Symbol("fallback");function _e(e){for(let t=0;t<e.length;t++)e[t]()}function Rt(e,t,n={}){let s=[],i=[],l=[],a=0,r=t.length>1?[]:null;return Qe(()=>_e(l)),()=>{let o=e()||[],f=o.length,d,u;return o[Ee],K(()=>{let g,m,$,L,w,_,O,v,k;if(f===0)a!==0&&(_e(l),l=[],s=[],i=[],a=0,r&&(r=[])),n.fallback&&(s=[Be],i[0]=F(T=>(l[0]=T,n.fallback())),a=1);else if(a===0){for(i=new Array(f),u=0;u<f;u++)s[u]=o[u],i[u]=F(h);a=f}else{for($=new Array(f),L=new Array(f),r&&(w=new Array(f)),_=0,O=Math.min(a,f);_<O&&s[_]===o[_];_++);for(O=a-1,v=f-1;O>=_&&v>=_&&s[O]===o[v];O--,v--)$[v]=i[O],L[v]=l[O],r&&(w[v]=r[O]);for(g=new Map,m=new Array(v+1),u=v;u>=_;u--)k=o[u],d=g.get(k),m[u]=d===void 0?-1:d,g.set(k,u);for(d=_;d<=O;d++)k=s[d],u=g.get(k),u!==void 0&&u!==-1?($[u]=i[d],L[u]=l[d],r&&(w[u]=r[d]),u=m[u],g.set(k,u)):l[d]();for(u=_;u<f;u++)u in $?(i[u]=$[u],l[u]=L[u],r&&(r[u]=w[u],r[u](u))):i[u]=F(h);i=i.slice(0,a=f),s=o.slice(0)}return i});function h(g){if(l[u]=g,r){const[m,$]=le(u);return r[u]=$,t(o[u],m)}return t(o[u])}}}function Zt(e,t,n={}){let s=[],i=[],l=[],a=[],r=0,o;return Qe(()=>_e(l)),()=>{const f=e()||[],d=f.length;return f[Ee],K(()=>{if(d===0)return r!==0&&(_e(l),l=[],s=[],i=[],r=0,a=[]),n.fallback&&(s=[Be],i[0]=F(h=>(l[0]=h,n.fallback())),r=1),i;for(s[0]===Be&&(l[0](),l=[],s=[],i=[],r=0),o=0;o<d;o++)o<s.length&&s[o]!==f[o]?a[o](()=>f[o]):o>=s.length&&(i[o]=F(u));for(;o<s.length;o++)l[o]();return r=a.length=l.length=d,s=f.slice(0),i=i.slice(0,r)});function u(h){l[o]=h;const[g,m]=le(f[o]);return a[o]=m,t(g,o)}}}function b(e,t){return K(()=>e(t||{}))}let St=0;function _t(){return`cl-${St++}`}function D(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ae(Rt(()=>e.each,e.children,t||void 0))}function rt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ae(Zt(()=>e.each,e.children,t||void 0))}const vt=new Set(["innerHTML","textContent","innerText","children"]),At=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),xt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),kt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},P=e=>ae(()=>e());function Nt(e,t,n){let s=n.length,i=t.length,l=s,a=0,r=0,o=t[i-1].nextSibling,f=null;for(;a<i||r<l;){if(t[a]===n[r]){a++,r++;continue}for(;t[i-1]===n[l-1];)i--,l--;if(i===a){const d=l<s?r?n[r-1].nextSibling:n[l-r]:o;for(;r<l;)e.insertBefore(n[r++],d)}else if(l===r)for(;a<i;)(!f||!f.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[l-1]&&n[r]===t[i-1]){const d=t[--i].nextSibling;e.insertBefore(n[r++],t[a++].nextSibling),e.insertBefore(n[--l],d),t[i]=n[l]}else{if(!f){f=new Map;let u=r;for(;u<l;)f.set(n[u],u++)}const d=f.get(t[a]);if(d!=null)if(r<d&&d<l){let u=a,h=1,g;for(;++u<i&&u<l&&!((g=f.get(t[u]))==null||g!==d+h);)h++;if(h>d-r){const m=t[a];for(;r<d;)e.insertBefore(n[r++],m)}else e.replaceChild(n[r++],t[a++])}else a++;else t[a++].remove()}}}const je="_$DX_DELEGATE";function Ct(e,t,n,s={}){let i;return F(l=>{i=l,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function p(e,t,n,s){let i;const l=()=>{const r=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return r.innerHTML=e,n?r.content.firstChild.firstChild:s?r.firstChild:r.content.firstChild},a=t?()=>K(()=>document.importNode(i||(i=l()),!0)):()=>(i||(i=l())).cloneNode(!0);return a.cloneNode=a,a}function Me(e,t=window.document){const n=t[je]||(t[je]=new Set);for(let s=0,i=e.length;s<i;s++){const l=e[s];n.has(l)||(n.add(l),t.addEventListener(l,jt))}}function Z(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Pt(e,t,n,s){s==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,s)}function Bt(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function Lt(e,t){t==null?e.removeAttribute("class"):e.className=t}function we(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=l=>i.call(e,n[1],l))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Tt(e,t,n={}){const s=Object.keys(t||{}),i=Object.keys(n);let l,a;for(l=0,a=i.length;l<a;l++){const r=i[l];!r||r==="undefined"||t[r]||(De(e,r,!1),delete n[r])}for(l=0,a=s.length;l<a;l++){const r=s[l],o=!!t[r];!r||r==="undefined"||n[r]===o||!o||(De(e,r,!0),n[r]=o)}return n}function Wt(e,t,n){if(!t)return n?Z(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let i,l;for(l in n)t[l]==null&&s.removeProperty(l),delete n[l];for(l in t)i=t[l],i!==n[l]&&(s.setProperty(l,i),n[l]=i);return n}function Ht(e,t={},n,s){const i={};return x(()=>i.children=oe(e,t.children,i.children)),x(()=>typeof t.ref=="function"&&M(t.ref,e)),x(()=>Mt(e,t,n,!0,i,!0)),i}function M(e,t,n){return K(()=>e(t,n))}function y(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return oe(e,t,s,n);x(i=>oe(e,t(),i,n),s)}function Mt(e,t,n,s,i={},l=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=Ue(e,a,null,i[a],n,l,t)}for(const a in t){if(a==="children")continue;const r=t[a];i[a]=Ue(e,a,r,i[a],n,l,t)}}function It(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function De(e,t,n){const s=t.trim().split(/\s+/);for(let i=0,l=s.length;i<l;i++)e.classList.toggle(s[i],n)}function Ue(e,t,n,s,i,l,a){let r,o,f,d;if(t==="style")return Wt(e,n,s);if(t==="classList")return Tt(e,n,s);if(n===s)return s;if(t==="ref")l||n(e);else if(t.slice(0,3)==="on:"){const u=t.slice(3);s&&e.removeEventListener(u,s,typeof s!="function"&&s),n&&e.addEventListener(u,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const u=t.slice(10);s&&e.removeEventListener(u,s,!0),n&&e.addEventListener(u,n,!0)}else if(t.slice(0,2)==="on"){const u=t.slice(2).toLowerCase(),h=xt.has(u);if(!h&&s){const g=Array.isArray(s)?s[0]:s;e.removeEventListener(u,g)}(h||n)&&(we(e,u,n,h),h&&Me([u]))}else if(t.slice(0,5)==="attr:")Z(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Bt(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(f=vt.has(t))||(r=e.nodeName.includes("-")||"is"in a))d&&(t=t.slice(5),o=!0),t==="class"||t==="className"?Lt(e,n):r&&!o&&!f?e[It(t)]=n:e[t]=n;else{const u=t.indexOf(":")>-1&&kt[t.split(":")[0]];u?Pt(e,u,t,n):Z(e,At[t]||t,n)}return n}function jt(e){let t=e.target;const n=`$$${e.type}`,s=e.target,i=e.currentTarget,l=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),a=()=>{const o=t[n];if(o&&!t.disabled){const f=t[`${n}Data`];if(f!==void 0?o.call(t,f,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},r=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();l(o[0]);for(let f=0;f<o.length-2&&(t=o[f],!!a());f++){if(t._$host){t=t._$host,r();break}if(t.parentNode===i)break}}else r();l(s)}function oe(e,t,n,s,i){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,a=s!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(a){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=z(e,n,s,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=z(e,n,s);else{if(l==="function")return x(()=>{let r=t();for(;typeof r=="function";)r=r();n=oe(e,r,n,s)}),()=>n;if(Array.isArray(t)){const r=[],o=n&&Array.isArray(n);if(Le(r,t,n,i))return x(()=>n=oe(e,r,n,s,!0)),()=>n;if(r.length===0){if(n=z(e,n,s),a)return n}else o?n.length===0?Xe(e,r,s):Nt(e,n,r):(n&&z(e),Xe(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(a)return n=z(e,n,s,t);z(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Le(e,t,n,s){let i=!1;for(let l=0,a=t.length;l<a;l++){let r=t[l],o=n&&n[e.length],f;if(!(r==null||r===!0||r===!1))if((f=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))i=Le(e,r,o)||i;else if(f==="function")if(s){for(;typeof r=="function";)r=r();i=Le(e,Array.isArray(r)?r:[r],Array.isArray(o)?o:[o])||i}else e.push(r),i=!0;else{const d=String(r);o&&o.nodeType===3&&o.data===d?e.push(o):e.push(document.createTextNode(d))}}return i}function Xe(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function z(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let l=!1;for(let a=t.length-1;a>=0;a--){const r=t[a];if(i!==r){const o=r.parentNode===e;!l&&!a?o?e.replaceChild(i,r):e.insertBefore(i,n):o&&r.remove()}else l=!0}}else e.insertBefore(i,n);return[i]}const ve=Symbol("store-raw"),q=Symbol("store-node"),H=Symbol("store-has"),lt=Symbol("store-self");function at(e){let t=e[G];if(!t&&(Object.defineProperty(e,G,{value:t=new Proxy(e,Xt)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let i=0,l=n.length;i<l;i++){const a=n[i];s[a].get&&Object.defineProperty(e,a,{enumerable:s[a].enumerable,get:s[a].get.bind(t)})}}return t}function J(e){let t;return e!=null&&typeof e=="object"&&(e[G]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Y(e,t=new Set){let n,s,i,l;if(n=e!=null&&e[ve])return n;if(!J(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,r=e.length;a<r;a++)i=e[a],(s=Y(i,t))!==i&&(e[a]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,f=a.length;o<f;o++)l=a[o],!r[l].get&&(i=e[l],(s=Y(i,t))!==i&&(e[l]=s))}return e}function Ae(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ue(e,t,n){if(e[t])return e[t];const[s,i]=le(n,{equals:!1,internal:!0});return s.$=i,e[t]=s}function Dt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===G||t===q||(delete n.value,delete n.writable,n.get=()=>e[G][t]),n}function ct(e){Pe()&&ue(Ae(e,q),lt)()}function Ut(e){return ct(e),Reflect.ownKeys(e)}const Xt={get(e,t,n){if(t===ve)return e;if(t===G)return n;if(t===Ee)return ct(e),n;const s=Ae(e,q),i=s[t];let l=i?i():e[t];if(t===q||t===H||t==="__proto__")return l;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);Pe()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(l=ue(s,t,l)())}return J(l)?at(l):l},has(e,t){return t===ve||t===G||t===Ee||t===q||t===H||t==="__proto__"?!0:(Pe()&&ue(Ae(e,H),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Ut,getOwnPropertyDescriptor:Dt};function Q(e,t,n,s=!1){if(!s&&e[t]===n)return;const i=e[t],l=e.length;n===void 0?(delete e[t],e[H]&&e[H][t]&&i!==void 0&&e[H][t].$()):(e[t]=n,e[H]&&e[H][t]&&i===void 0&&e[H][t].$());let a=Ae(e,q),r;if((r=ue(a,t,i))&&r.$(()=>n),Array.isArray(e)&&e.length!==l){for(let o=e.length;o<l;o++)(r=a[o])&&r.$();(r=ue(a,"length",l))&&r.$(e.length)}(r=a[lt])&&r.$()}function ot(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const i=n[s];Q(e,i,t[i])}}function Vt(e,t){if(typeof t=="function"&&(t=t(e)),t=Y(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const i=t[n];e[n]!==i&&Q(e,n,i)}Q(e,"length",s)}else ot(e,t)}function re(e,t,n=[]){let s,i=e;if(t.length>1){s=t.shift();const a=typeof s,r=Array.isArray(e);if(Array.isArray(s)){for(let o=0;o<s.length;o++)re(e,[s[o]].concat(t),n);return}else if(r&&a==="function"){for(let o=0;o<e.length;o++)s(e[o],o)&&re(e,[o].concat(t),n);return}else if(r&&a==="object"){const{from:o=0,to:f=e.length-1,by:d=1}=s;for(let u=o;u<=f;u+=d)re(e,[u].concat(t),n);return}else if(t.length>1){re(e[s],t,[s].concat(n));return}i=e[s],n=[s].concat(n)}let l=t[0];typeof l=="function"&&(l=l(i,n),l===i)||s===void 0&&l==null||(l=Y(l),s===void 0||J(i)&&J(l)&&!Array.isArray(l)?ot(i,l):Q(e,s,l))}function Ve(...[e,t]){const n=Y(e||{}),s=Array.isArray(n),i=at(n);function l(...a){pt(()=>{s&&a.length===1?Vt(n,a[0]):re(n,a)})}return[i,l]}const xe=new WeakMap,ut={get(e,t){if(t===ve)return e;const n=e[t];let s;return J(n)?xe.get(n)||(xe.set(n,s=new Proxy(n,ut)),s):n},set(e,t,n){return Q(e,t,Y(n)),!0},deleteProperty(e,t){return Q(e,t,void 0,!0),!0}};function be(e){return t=>{if(J(t)){let n;(n=xe.get(t))||xe.set(t,n=new Proxy(t,ut)),e(n)}return t}}const Gt=1e-5,Te=e=>Math.abs(e)<Gt;class c{re;im;static ZERO=new c(0,0);static ONE=new c(1,0);static POS=new c(Math.SQRT1_2,0);static NEG=new c(-Math.SQRT1_2,0);constructor(t,n){this.re=t,this.im=n}norm_sqr=()=>this.re*this.re+this.im*this.im;square=()=>this.re*this.re-this.im*this.im;approx=t=>Te(t.re-this.re)&&Te(t.im-this.im);static add=(t,n)=>new c(t.re+n.re,t.im+n.im);static mul=(t,n)=>new c(t.re*n.re-t.im*n.im,t.re*n.im+t.im*n.re);toJSON=()=>[this.re,this.im];static fromJSON=([t,n])=>new c(t,n)}class R{zero;one;static ZERO=new R(c.ONE,c.ZERO);static ONE=new R(c.ZERO,c.ONE);static POS=new R(c.POS,c.POS);static NEG=new R(c.POS,c.NEG);constructor(t,n){this.zero=t,this.one=n}register=()=>V.fromUnentangled([this]);approx=t=>this.zero.approx(t.zero)&&this.one.approx(t.one);toJSON=()=>[this.zero,this.one];static fromJSON=([t,n])=>new R(c.fromJSON(t),c.fromJSON(n))}class V{states;constructor(t){this.states=t.map(n=>n)}static fromUnentangled=t=>{const n=Array(1<<t.length).fill(c.ZERO);n[0]=t[0].zero,n[1]=t[0].one;for(let s=1;s<t.length;s++){const i=1<<s;for(let l=0;l<i;l++)n[i+l]=c.mul(n[l],t[s].one),n[l]=c.mul(n[l],t[s].zero)}return new V(n)};copy=()=>new V(this.states);map(t,n){const s=Math.log2(this.states.length),i=t.length,l=t.map(r=>1<<r).reduce((r,o)=>r|o);let a=0;for(let r=0;r<1<<s-i;r++){const o=Array(1<<i),f=Array(1<<i).fill(null).map((u,h)=>{let g=a;return g|=Array(i).fill(null).map((m,$)=>$).filter(m=>h>>m&1).map(m=>1<<t[m]).reduce((m,$)=>m|$,0),o[h]=g,this.states[g]}),d=n(new V(f));for(let u=0;u<1<<i;u++)this.states[o[u]]=d.states[u];for(;++a&l;);}}normalise(){const t=this.states.map(s=>s.square()).reduce((s,i)=>s+i),n=new c(1/Math.sqrt(t),0);for(let s=0;s<this.states.length;s++)this.states[s]=c.mul(this.states[s],n)}aggregate=t=>this.states.filter((n,s)=>s&1<<t).map(n=>n.norm_sqr()).reduce((n,s)=>n+s);collapse(t){const n=Math.log2(this.states.length),s=this.aggregate(t),i=s<.5;console.log(`collapse ${s}`);for(let l=0;l<1<<n;l++)(l&1<<t)>0==i&&(this.states[l]=c.ZERO);this.normalise()}aggregate_all(...t){const n=t.map(s=>1<<s).reduce((s,i)=>s|i);return this.states.filter((s,i)=>(i&n)==n).map(s=>s.norm_sqr()).reduce((s,i)=>s+i)}independent=(...t)=>t.length>1?Te(this.aggregate_all(...t)-t.map(n=>this.aggregate(n)).reduce((n,s)=>n*s)):Array(Math.log2(this.states.length)).fill(null).map((n,s)=>s).every(n=>n==t[0]||this.independent(n,t[0]))}class E{matrix;static X=new E([[c.ZERO,c.ONE],[c.ONE,c.ZERO]]);static Y=new E([[c.ZERO,new c(0,-1)],[new c(1,0),c.ZERO]]);static Z=new E([[c.ONE,c.ZERO],[c.ZERO,new c(-1,0)]]);static H=new E([[c.POS,c.POS],[c.POS,c.NEG]]);static S=new E([[c.ONE,c.ZERO],[c.ZERO,new c(1,0)]]);static T=new E([[c.ONE,c.ZERO],[c.ZERO,new c(Math.SQRT1_2,Math.SQRT1_2)]]);static CX=new E([[c.ONE,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ONE,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,c.ONE],[c.ZERO,c.ZERO,c.ONE,c.ZERO]]);static CZ=new E([[c.ONE,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ONE,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ONE,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,new c(-1,0)]]);static SWAP=new E([[c.ONE,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ONE,c.ZERO],[c.ZERO,c.ONE,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,c.ONE]]);static CCX=new E([[c.ONE,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ONE,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ONE,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,c.ONE,c.ZERO,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ONE,c.ZERO,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ONE,c.ZERO,c.ZERO],[c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ONE],[c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ZERO,c.ONE,c.ZERO]]);constructor(t){this.matrix=t}static identity=t=>new E(Array(1<<t).fill(null).map((n,s)=>Array(1<<t).fill(null).map((i,l)=>new c(l==s?1:0,0))));forward=()=>t=>new V(this.matrix.map(n=>n.map((s,i)=>c.mul(s,t.states[i])).reduce((s,i)=>c.add(s,i))))}const fe={x:{name:"Pauli X",binds:["X"],gate:E.X},y:{name:"Pauli Y",binds:["Y"],gate:E.Y},z:{name:"Pauli Z",binds:["Z"],gate:E.Z},h:{name:"Hadamard",binds:["H"],gate:E.H},s:{name:"Phase 90°",binds:["S"],gate:E.S},t:{name:"Phase 45°",binds:["T"],gate:E.T},cx:{name:"Controlled X",binds:["X","C"],gate:E.CX},cz:{name:"Controlled Z",binds:["Z","C"],gate:E.CZ},swap:{name:"Swap",binds:["1","2"],gate:E.SWAP},ccx:{name:"Toffoli",binds:["X","C1","C2"],gate:E.CCX}};function ft(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let n="";do n=t[e%t.length]+n,e=Math.floor(e/t.length);while(e);return n}const ie=e=>{switch(e.type){case"measure":return e.inverse?"quantum":"classical";case"gate":return"quantum";default:return e.wire}},Ge=(e,t)=>{switch(e.type){case"repeat-begin":case"repeat-end":case"medium":return[0,t-1];case"measure":return[e.bind,e.bind];case"gate":return e.binds.reduce(([n,s],i)=>[Math.min(n,i),Math.max(s,i)],[e.binds[0],e.binds[0]]);case"oracle":return[Math.min(e.xBind,e.firstBind),Math.max(e.xBind,e.firstBind+e.width-1)]}},Ke=(e,t)=>new Set(Array(1+t-e).fill(0).map((n,s)=>e+s));function Kt(e,t,n){let s=Array(e).fill(null).map(()=>({type:"wire",crossing:null,wire:"quantum"}));const i=Array(e).fill(null).map(()=>[]);if(!t.length)return i;let l=new Set,[a,r]=Ge(t[0],e),o=0;for(const f of t){if(r>=e)return[];switch(f.type){case"repeat-begin":case"repeat-end":s=s.map((d,u)=>({type:"repeat",connect:{up:u>0,down:u+1<e},side:f.type=="repeat-begin"?"begin":"end",...f.type=="repeat-end"&&{count:f.count},wire:ie(d)}));break;case"measure":s[f.bind]={type:"measure",inverse:!1};break;case"gate":for(let d=a+1;d<r;d++)s[d].type=="wire"&&(s[d].crossing="wire");for(let d=0;d<fe[f.gate].binds.length;d++){const u=f.binds[d];s[u]={type:f.gate=="swap"?"swap":d?"control":"gate",control:{up:u>a,down:u<r},wire:ie(s[u]),negative:!1,...f.gate!="swap"&&!d&&{label:fe[f.gate].binds[0],input:null,connect:{up:!1,down:!1}}}}break;case"oracle":for(let d=a+1;d<r;d++)s[d].type=="wire"&&(s[d].crossing="wire");s[f.xBind]={type:"gate",label:"x",input:null,connect:{up:!1,down:!1},control:{up:a<f.xBind,down:r>f.xBind},wire:ie(s[f.xBind])};for(let d=0;d<f.width;d++){const u=f.firstBind+d;s[u]={type:"control",control:{up:a<u,down:r>u},negative:!(1<<d&f.match),wire:ie(s[u])}}break}++o<t.length&&(l=l.union(Ke(a,r)),[a,r]=Ge(t[o],e),n&&l.isDisjointFrom(Ke(a,r)))||(l=new Set,i.forEach((d,u)=>{d.push(s[u]),s[u]={type:"wire",crossing:null,wire:ie(s[u])}}))}return i}var zt=p("<select>"),dt=p("<option>"),Ft=p("<select class=block-type>"),qt=p("<div class=props>"),Jt=p("<label>Repeats"),ze=p("<input type=number min=1>"),Yt=p("<label>Channel"),Qt=p("<label>"),en=p("<label>Width"),tn=p("<label>Match"),nn=p("<input type=number min=0>"),sn=p("<label>LSB"),rn=p("<label>CX");const pe=(e,t)=>(e.type=="gate"&&e.binds||e.type=="measure"&&[e.bind]||e.type=="oracle"&&[e.firstBind]||[]).concat(Array(t).fill(0)).slice(0,t),Fe=new Map([["measure",{name:"Measurement",match:e=>e.type=="measure",apply:e=>({type:"measure",bind:pe(e,1)[0]})}],...Object.entries(fe).map(([e,t])=>[`gate:${e}`,{name:t.name,match:n=>n.type=="gate"&&n.gate==e,apply:n=>({type:"gate",gate:e,binds:pe(n,t.binds.length)})}]),["oracle",{name:"Toffoli-n (Oracle)",match:e=>e.type=="oracle",apply:e=>({type:"oracle",width:1,match:0,firstBind:pe(e,2)[0],xBind:pe(e,2)[1]})}],["repeat-begin",{name:"Begin repeat",match:e=>e.type=="repeat-begin",apply:e=>({type:"repeat-begin"})}],["repeat-end",{name:"End repeat",match:e=>e.type=="repeat-end",apply:e=>({type:"repeat-end",count:1})}]]),Oe=e=>{let t;return(()=>{var n=zt();n.addEventListener("change",()=>e.setChannel(parseInt(t.value)));var s=t;return typeof s=="function"?M(s,n):t=n,y(n,b(rt,{get each(){return Array(e.channels).fill(null)},children:(i,l)=>(()=>{var a=dt();return y(a,()=>ft(l)),x(()=>a.selected=l==e.channel),x(()=>a.value=l.toString()),a})()})),x(()=>Z(n,"id",e.id)),n})()};function ln(e){let t,n,s;const i=_t();return[(()=>{var l=Ft();l.addEventListener("change",()=>e.setBlock(Fe.get(t.value).apply(e.block)));var a=t;return typeof a=="function"?M(a,l):t=l,y(l,b(D,{get each(){return Array.from(Fe.entries())},children:([r,o])=>(()=>{var f=dt();return f.value=r,y(f,()=>o.name),x(()=>f.selected=o.match(e.block)),f})()})),l})(),(()=>{var l=qt();return y(l,(()=>{var a=P(()=>e.block.type=="repeat-end");return()=>a()&&[(()=>{var r=Jt();return Z(r,"for",i),r})(),(()=>{var r=ze();r.$$input=()=>e.block.type=="repeat-end"&&n.validity.valid&&e.setBlock({...e.block,count:n.valueAsNumber});var o=n;return typeof o=="function"?M(o,r):n=r,Z(r,"id",i),x(()=>r.value=e.block.count),r})()]})(),null),y(l,(()=>{var a=P(()=>e.block.type=="measure");return()=>a()&&[(()=>{var r=Yt();return Z(r,"for",i),r})(),b(Oe,{id:i,get channels(){return e.channels()},get channel(){return e.block.bind},setChannel:r=>e.block.type=="measure"&&e.setBlock({...e.block,bind:r})})]})(),null),y(l,(()=>{var a=P(()=>e.block.type=="gate");return()=>a()&&b(D,{get each(){return fe[e.block.gate].binds},children:(r,o)=>{const f=`${i}-${o()}`;return e.block.type=="gate"&&[(()=>{var d=Qt();return Z(d,"for",f),y(d,r),d})(),b(Oe,{id:f,get channels(){return e.channels()},get channel(){return e.block.binds[o()]},setChannel:d=>e.block.type=="gate"&&e.setBlock({...e.block,binds:(u=>(u[o()]=d,u))(e.block.binds.concat([]))})})]}})})(),null),y(l,(()=>{var a=P(()=>e.block.type=="oracle");return()=>a()&&[(()=>{var r=en();return Z(r,"for",`${i}-w`),r})(),(()=>{var r=ze();r.$$input=()=>e.block.type=="oracle"&&n.validity.valid&&e.setBlock({...e.block,width:n.valueAsNumber});var o=n;return typeof o=="function"?M(o,r):n=r,Z(r,"id",`${i}-w`),x(()=>r.value=e.block.width),r})(),(()=>{var r=tn();return Z(r,"for",`${i}-m`),r})(),(()=>{var r=nn();r.$$input=()=>e.block.type=="oracle"&&s.validity.valid&&e.setBlock({...e.block,match:s.valueAsNumber});var o=s;return typeof o=="function"?M(o,r):s=r,Z(r,"id",`${i}-m`),x(()=>Z(r,"max",(1<<e.block.width)-1)),x(()=>r.value=e.block.match),r})(),(()=>{var r=sn();return Z(r,"for",`${i}-c`),r})(),b(Oe,{id:`${i}-c`,get channels(){return e.channels()},get channel(){return e.block.firstBind},setChannel:r=>e.block.type=="oracle"&&e.setBlock({...e.block,firstBind:r})}),(()=>{var r=rn();return Z(r,"for",`${i}-x`),r})(),b(Oe,{id:`${i}-x`,get channels(){return e.channels()},get channel(){return e.block.xBind},setChannel:r=>e.block.type=="oracle"&&e.setBlock({...e.block,xBind:r})})]})(),null),l})()]}Me(["input"]);var an=p("<svg><path stroke=black stroke-width=2 fill=none></svg>",!1,!0,!1),cn=p('<svg width=150 height=100 viewBox="0 0 150 100">'),on=p("<svg><text x=85 y=90 font-size=16></svg>",!1,!0,!1),un=p("<svg><text x=75 y=50 font-size=32 dominant-baseline=middle text-anchor=middle></svg>",!1,!0,!1),fn=p("<svg><text x=42 y=42 font-size=16 text-anchor=end></svg>",!1,!0,!1),dn=p("<svg><rect x=50 width=50 stroke=black stroke-width=2 fill=none></svg>",!1,!0,!1),hn=p("<svg><ellipse cx=75 cy=50 rx=5 ry=5 stroke=black></svg>",!1,!0,!1);function gn({tile:e}){const a=[],r=[];let o=null;switch(e.type){case"measure":e.inverse?(a.push([0,150/2-2,!0]),a.push([150/2+2,150,!1])):(a.push([0,100/2,!1]),a.push([200/2,150,!0]),o={up:!1,down:!1});break;case"repeat":{const u=e.wire=="classical";a.push([0,150/2-8,u]),a.push([150/2+8,150,u]),r.push([e.connect.up?0:30,100-(e.connect.down?0:30)]);break}case"wire":{const u=e.wire=="classical";switch(e.crossing){case"wire":a.push([0,150/2-8,u]),a.push([150/2+8,150,u]),r.push([0,100]);break;case"gate":a.push([0,100/2-8,u]),a.push([200/2+8,150,u]),o={up:!0,down:!0};break;default:a.push([0,150,u]);break}break}case"control":case"swap":a.push([0,150,e.wire=="classical"]),e.control.up&&r.push([0,100/2]),e.control.down&&r.push([100/2,100]);break;case"gate":a.push([0,100/2,e.wire=="classical"]),a.push([200/2,150,!1]),e.control.up&&r.push([0,50/2]),e.control.down&&r.push([150/2,100]),o=e.connect;break}const f=u=>(()=>{var h=an();return Ht(h,u,!0),h})(),d=u=>b(f,{get d(){return"M"+u.points.map(([h,g])=>`${h} ${g}`).join("L")}});return(()=>{var u=cn();return y(u,(()=>{var h=P(()=>!!(e.type=="measure"&&e.inverse));return()=>h()&&b(d,{points:[[150/2-2-2,100/2-2],[150/2-2,100/2-2],[150/2+2,100/2],[150/2-2,100/2+2],[150/2-2-2,100/2+2]]})})(),null),y(u,(()=>{var h=P(()=>e.type=="measure"&&!e.inverse);return()=>h()&&b(f,{d:`
						M${150/2-12} ${100/2+6}
						a12 12 0 0 1 24 0
						m-12 0
						l12 -12
					`})})(),null),y(u,(()=>{var h=P(()=>e.type=="repeat"&&!e.connect.up);return()=>h()&&b(f,{get d(){return`
						M${150/2+(e.side=="end"?-20:20)} 10
						A20 20 0 0 ${e.side=="end"?0:1} ${150/2} 30
					`},"stroke-linecap":"square"})})(),null),y(u,(()=>{var h=P(()=>e.type=="repeat"&&!e.connect.down);return()=>h()&&b(f,{get d(){return`
						M${150/2+(e.side=="end"?-20:20)} 90
						A20 20 0 0 ${e.side=="end"?1:0} ${150/2} 70
					`},"stroke-linecap":"square"})})(),null),y(u,(()=>{var h=P(()=>e.type=="repeat"&&e.side=="end"&&!e.connect.down);return()=>h()&&(()=>{var g=on();return y(g,()=>e.count),g})()})(),null),y(u,(()=>{var h=P(()=>e.type=="swap");return()=>h()&&[b(d,{points:[[150/2-8,100/2-8],[150/2+8,100/2+8]]}),b(d,{points:[[150/2-8,100/2+8],[150/2+8,100/2-8]]})]})(),null),y(u,(()=>{var h=P(()=>!!(e.type=="gate"&&e.label));return()=>h()&&(()=>{var g=un();return y(g,()=>e.label),g})()})(),null),y(u,(()=>{var h=P(()=>!!(e.type=="gate"&&e.input));return()=>h()&&(()=>{var g=fn();return y(g,()=>e.input),g})()})(),null),y(u,b(D,{each:a,children:([h,g,m])=>m?[b(d,{points:[[h,100/2-2],[g,100/2-2]]}),b(d,{points:[[h,100/2+2],[g,100/2+2]]})]:b(d,{points:[[h,100/2],[g,100/2]]})}),null),y(u,b(D,{each:r,children:([h,g])=>b(d,{points:[[150/2,h],[150/2,g]]})}),null),y(u,o&&(()=>{var h=dn();return x(g=>{var m=o.up?-25:25,$=o.up&&o.down?2*100:o.up||o.down?100:50;return m!==g.e&&Z(h,"y",g.e=m),$!==g.t&&Z(h,"height",g.t=$),g},{e:void 0,t:void 0}),h})(),null),y(u,(()=>{var h=P(()=>e.type=="control");return()=>h()&&(()=>{var g=hn();return x(m=>{var $=e.negative?"white":"black",L=e.negative?2:1;return $!==m.e&&Z(g,"fill",m.e=$),L!==m.t&&Z(g,"stroke-width",m.t=L),m},{e:void 0,t:void 0}),g})()})(),null),u})()}const yn=[{name:"Bell state",initialValues:[R.ZERO,R.ZERO],blocks:[{type:"gate",gate:"h",binds:[0]},{type:"gate",gate:"cx",binds:[1,0]}]},{name:"Teleportation",initialValues:[R.ZERO,R.ZERO,R.POS],blocks:[{type:"gate",gate:"h",binds:[0]},{type:"gate",gate:"cx",binds:[1,0]},{type:"gate",gate:"cx",binds:[0,2]},{type:"gate",gate:"h",binds:[2]},{type:"measure",bind:0},{type:"measure",bind:2},{type:"gate",gate:"cx",binds:[1,0]},{type:"gate",gate:"cz",binds:[1,2]}]},{name:"Grover's alg.",initialValues:[R.POS,R.POS,R.POS,R.POS,R.NEG],blocks:[{type:"repeat-begin"},{type:"oracle",width:4,match:5,firstBind:0,xBind:4},{type:"gate",gate:"h",binds:[0]},{type:"gate",gate:"h",binds:[1]},{type:"gate",gate:"h",binds:[2]},{type:"gate",gate:"h",binds:[3]},{type:"oracle",width:4,match:0,firstBind:0,xBind:4},{type:"gate",gate:"h",binds:[0]},{type:"gate",gate:"h",binds:[1]},{type:"gate",gate:"h",binds:[2]},{type:"gate",gate:"h",binds:[3]},{type:"repeat-end",count:2},{type:"measure",bind:0},{type:"measure",bind:1},{type:"measure",bind:2},{type:"measure",bind:3}]}];function mn(e,t,n){try{const s=V.fromUnentangled(t.slice(0,e)),i=[];for(let l=0;l<n.length;l++){const a=n[l];switch(a.type){case"repeat-begin":i.push({block:l,runs:0});break;case"repeat-end":if(!i.length)return[];++i.at(-1).runs>=a.count?i.pop():l=i.at(-1).block;break;case"measure":s.collapse(a.bind);break;case"gate":s.map(a.binds,fe[a.gate].gate.forward());break;case"oracle":if(a.match>=1<<a.width)return[];const r=E.identity(a.width+1),o=a.match<<1;r.matrix[o+0][o+0]=c.ZERO,r.matrix[o+0][o+1]=c.ONE,r.matrix[o+1][o+0]=c.ONE,r.matrix[o+1][o+1]=c.ZERO;const f=Array(a.width).fill(null).map((d,u)=>a.firstBind+u);s.map([a.xBind].concat(f),r.forward());break}}return window.__states=s.states,Array(e).fill(null).map((l,a)=>({one:s.aggregate(a),entangled:!s.independent(a)}))}catch(s){return console.error(s),[]}}var bn=p("<nav><span>Examples:</span><div class=spacer></div><input id=edit-mode type=checkbox><label for=edit-mode>Edit mode"),pn=p("<main>"),On=p("<button>"),wn=p("<div id=header><div><div class=header-controls><button>＋</button></div><div class=props><label for=n-channels>Channels</label><input type=number min=1 max=16></div></div><div>"),En=p("<div><div class=header-controls><button>＜</button><button>－</button><button>＞</button><button>＋"),$n=p("<div><div class=initial-value><label></label><select></select></div><div class=output-value><span>"),Rn=p("<option>|<!>⟩");const We=16,Ce=Array(We).fill(R.ZERO),Zn=[{type:"gate",gate:"h",binds:[0]},{type:"gate",gate:"cx",binds:[1,0]}],qe=new Map([["0",R.ZERO],["1",R.ONE],["+",R.POS],["-",R.NEG]]);function Sn(){let e=3,t=Ce,n=Zn;if(location.hash)try{const w=JSON.parse(decodeURIComponent(location.hash.substring(1)));e=w.ch,t=w.iv.map(_=>R.fromJSON(_)).concat(Ce).slice(0,We),n=w.bl}catch{}const[s,i]=le(!0),[l,a]=le(e),[r,o]=Ve(t),[f,d]=Ve(n),u=ae(()=>Kt(l(),f,!s())),h=ae(()=>mn(l(),r,f));bt(()=>{const w={ch:l(),iv:r.slice(0,l()),bl:f.concat([])};location.hash="#"+encodeURIComponent(JSON.stringify(w))});const g=w=>()=>d(be(_=>_.splice(w,0,{type:"gate",gate:"x",binds:[0]}))),m=w=>()=>{a(w.initialValues.length),o(w.initialValues.concat(Ce).slice(0,We)),d(w.blocks)};let $,L;return[(()=>{var w=bn(),_=w.firstChild,O=_.nextSibling,v=O.nextSibling;y(w,b(D,{each:yn,children:T=>(()=>{var j=On();return we(j,"click",m(T),!0),y(j,()=>T.name),j})()}),O),v.addEventListener("change",()=>i(L.checked));var k=L;return typeof k=="function"?M(k,v):L=v,x(()=>v.checked=s()),w})(),(()=>{var w=pn();return y(w,(()=>{var _=P(()=>!!s());return()=>_()&&(()=>{var O=wn(),v=O.firstChild,k=v.firstChild,T=k.firstChild,j=k.nextSibling,te=j.firstChild,W=te.nextSibling,he=v.nextSibling;we(T,"click",g(0),!0),W.$$input=()=>$.validity.valid&&a($.valueAsNumber);var ge=$;return typeof ge=="function"?M(ge,W):$=W,y(O,b(D,{each:f,children:(ye,N)=>(()=>{var ne=En(),X=ne.firstChild,me=X.firstChild,se=me.nextSibling,Ie=se.nextSibling,ht=Ie.nextSibling;return me.$$click=()=>d(be(B=>N()?B.splice(N()-1,0,...B.splice(N(),1)):B.push(...B.splice(0,1)))),se.$$click=()=>d(be(B=>B.splice(N(),1))),Ie.$$click=()=>d(be(B=>N()+1<B.length?B.splice(N()+1,0,...B.splice(N(),1)):B.splice(0,0,B.pop()))),we(ht,"click",g(N()+1),!0),y(ne,b(ln,{block:ye,setBlock:B=>d(N(),B),channels:l}),null),ne})()}),he),x(()=>W.value=l()),O})()})(),null),y(w,b(rt,{get each(){return u()},children:(_,O)=>{const v=`iv-${O}`;let k;return(()=>{var T=$n(),j=T.firstChild,te=j.firstChild,W=te.nextSibling,he=j.nextSibling,ge=he.firstChild;Z(te,"for",v),y(te,()=>ft(O)),W.addEventListener("change",()=>o(O,qe.get(k.value)));var ye=k;return typeof ye=="function"?M(ye,W):k=W,Z(W,"id",v),y(W,b(D,{get each(){return Array.from(qe.entries())},children:([N,ne])=>(()=>{var X=Rn(),me=X.firstChild,se=me.nextSibling;return se.nextSibling,X.value=N,y(X,N,se),x(()=>X.selected=r[O].approx(ne)),X})()})),y(T,b(D,{get each(){return _()},children:N=>b(gn,{tile:N})}),he),y(ge,(()=>{var N=P(()=>!!h()[O]);return()=>N()?`P(1) ≈ ${h()[O].one.toFixed(3)}`+(h()[O].entangled?"*":""):"Error?"})()),T})()}}),null),w})()]}Me(["click","input"]);Ct(()=>b(Sn,{}),document.getElementById("root"));
